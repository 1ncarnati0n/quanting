# UI/UX 디자인 개선 로드맵

## 1. 목적
- 트레이딩 업무 흐름에서 **한 번에 이해되는 정보 위계**를 만든다.
- 인터벌/기간/종목 컨트롤을 중심으로 **컴포넌트 일관성**을 확보한다.
- Tauri 데스크탑 환경에 맞는 **앱형 UX(드래그 영역, 선택 방지, 스크롤 구조)**를 강화한다.

## 2. 기준 문서
- 본 로드맵은 `docs/ui-ux.md`의 다음 원칙을 실행 단위로 변환했다.
1. Tailwind + Shadcn 우선 사용
2. 디자인 토큰 및 규칙 기반 스타일링
3. 데스크탑 앱 UX(커스텀 타이틀바/스크롤/선택 제어) 반영

## 3. 현재 진단
1. 인터벌/기간 컨트롤의 컴포넌트 톤이 일부 다르고, 라벨 체계가 시점마다 다르게 표기된다.
2. 종목명 표기 규칙(특히 KR)이 화면별로 다를 수 있어 인지 부하를 만든다.
3. 데스크탑 앱 관점의 상단 드래그 영역/미세 인터랙션 폴리싱이 부족하다.
4. 레이아웃 여백 밀도가 구역별로 달라, 동일한 중요도의 UI가 다르게 느껴진다.

## 4. 개선 원칙
1. **One Control Language**: 인터벌/기간/세그먼트 버튼은 같은 패딩, 같은 폰트 스케일, 같은 상태 규칙을 사용한다.
2. **One Naming Rule**: KR 종목은 `종목명(메인) + 코드(서브)` 규칙을 공통 적용한다.
3. **One Spacing Scale**: 주요 컨테이너는 `4/8/12/16` 기반으로만 간격을 둔다.
4. **Desktop First Polish**: 드래그 가능한 상단 영역, 불필요한 텍스트 선택 방지, 본문 중심 스크롤 구조를 유지한다.

## 5. 단계별 실행 계획

### Phase 1. Foundation (즉시, 이번 사이클)
- [x] 인터벌 라벨 체계 정리 (`분/일/주/월`)
- [x] 인터벌/기간 버튼 스타일 규칙 통일 (패딩/폰트/라운드/상태)
- [x] KR 종목 표기 규칙 공통 유틸 도입 및 주요 화면 적용
- [x] 헤더 정보 위계 개선 (현재 종목명 중심)
- [x] 메인 레이아웃 여백 및 카드 밀도 정리
- [x] 데스크탑 상단 드래그 영역(커스텀 타이틀바) 추가

### Phase 2. Core Flows (다음 사이클)
- [x] Watchlist/SymbolSearch 항목 카드 밀도 통일 (행 높이, 타이포, 배지)
- [x] 설정 패널 섹션 간 시각적 구획 강화 (그룹 헤더, Divider, Sticky 구간)
- [x] 차트 툴바/드로잉 툴바 버튼 스케일 통합
- [x] 상태바 신호/메타 정보 우선순위 재배치

### Phase 3. Desktop Polish (후속)
- [x] Tauri 윈도우 컨트롤(최소화/최대화/닫기) 커스텀 헤더 적용
- [x] 단축키 힌트의 노출 정책 정비 (헤더 토글)
- [x] 접근성 점검 1차 (focus-visible 강화, Tabs/Dropdown 키보드 내비게이션, Dialog/Sheet 포커스 복귀)
- [x] 성능 폴리싱 1차 (Vite manualChunks로 React/Chart/Tauri 분할)
- [x] 접근성 점검 2차 (Dialog/Sheet 포커스 트랩, 아이콘 버튼 aria-label 보강)
- [x] 성능 폴리싱 2차 (Tauri Window API 동적 로딩)

## 6. 파일별 작업 맵
- 인터벌 라벨/규칙: `src/utils/constants.ts`
- 종목명 표기 규칙: `src/utils/marketView.ts`
- 인터벌 UI: `src/components/IntervalSelector.tsx`
- 기간 UI: `src/components/TimeRangeBar.tsx`
- 기간 로직 유틸: `src/utils/timeRange.ts`
- 헤더 레이아웃: `src/components/MarketHeader.tsx`
- 상태바 인터벌 노출: `src/components/StatusBar.tsx`
- 관심종목/설정/검색 표기 통일:
  - `src/components/WatchlistSidebar.tsx`
  - `src/components/SettingsPanel.tsx`
  - `src/components/SymbolSearch.tsx`
- 앱 셸 여백/구조: `src/App.tsx`

## 7. 성공 지표 (측정)
1. 동일 유형 버튼(인터벌/기간)의 스타일 편차 0건
2. KR 종목 표기 역전(코드가 메인) 이슈 0건
3. 핵심 조작(종목 변경/인터벌 변경/기간 변경)까지 클릭 수 유지 또는 감소
4. 사용성 피드백에서 "정보가 한눈에 보인다" 응답 증가

## 8. 이번 적용 범위
- Phase 1 항목을 모두 반영했다.
- Phase 2의 핵심 항목(Watchlist/SymbolSearch 밀도, 설정 패널 시각 구획, 툴바 스케일, 상태바 우선순위)을 반영했다.
- Phase 3 중 데스크탑 폴리싱(윈도우 컨트롤, 힌트 토글)을 반영했다.
- 접근성/성능 폴리싱 1차, 2차를 반영했다.
- 키보드 플로우 보강(Ctrl/⌘+K 글로벌 심볼 검색)과 설정 알림 영역 대비 개선을 반영했다.
- 인터벌/기간 버튼의 패딩 토큰을 단일 규칙으로 정리해 버튼 밀도를 다시 보정했다.
- 타임레인지 로직을 공통 유틸로 분리하고, 저장값(레거시 포함) 파싱을 일원화했다.
- 타임레인지 선택값(예: 1일)이 심볼/인터벌 변경 후에도 차트에 안정적으로 재적용되도록 MainChart 로직을 보강했다.
- 분/시간 드롭다운의 키보드 내비게이션(↑/↓ 열기, 활성 항목 포커스, Tab/Escape 닫기)과 트리거 포커스 복귀를 보강했다.
- 헤더 인터벌/기간 컨트롤 및 아이콘 버튼 밀도를 소폭 낮춰 정보 밀집 구간 가독성을 개선했다.
- 상단 유틸 헤더(앱 타이틀/윈도우 컨트롤/힌트 바)를 제거해 메인 차트 영역 집중도를 높였다.
